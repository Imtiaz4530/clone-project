<%- include('../../partials/header.ejs') %>  
<div class="container">
    <div class="row">
        <div class="col-md-9 offset-md-2">
            <h4>Search result for - <%= searchTerm %> </h4>
            <% if (posts.length === 0) { %>
                    <h3 class="text-center text-muted my-3" >No post found</h3>
                <% } else { %>
                <% for (const post of posts) { %>
                    <div class="card card-body mx-5">
                    <a href="/">
                        <h3><%= post.title %> </h3>
                        <p> <%= truncate(post.body) %></p>
                    </a>
                </div>
                <% } %> 
                <% } %>
            <% if (totalPage > 1) { %>
                <nav aria-label="Page navigation example">
                <ul class="pagination">
                    <li class="page-item <%= currentPage === 1 ? 'disable' : '' %>"><a class="page-link" href="<%= `/search?term=${searchTerm}&page=${currentPage-1}` %> ">Previous</a></li>
                    <% for( let i = 0; i<= totalPage ; i++ ) { %>
                    <li class="page-item <%= currentPage === i ? 'active': '' %> "><a class="page-link" href="<%= `/search?term=${searchTerm}&page=${i}` %>"><%= i %> </a></li>
                    <% } %>
                    
                    <li class="page-item <%= currentPage === totalPage ? 'disable' : '' %>"><a class="page-link" href="<%= `/search?term=${searchTerm}&page=${currentPage+1}` %>">Next</a></li>
                </ul>
            </nav>
            <% } %>
        </div>
    </div>
</div>
<%- include('../../partials/footer.ejs') %>
<script>

</script>
</body>
</html>
